(function () {
'use strict';

var getOffset = function (evt) {
	var el = evt.target;
	var x = 0;
	var y = 0;

	while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
		x += el.offsetLeft - el.scrollLeft;
		y += el.offsetTop - el.scrollTop;
		el = el.offsetParent;
	}

	x = evt.clientX - x;
	y = evt.clientY - y;

	return { x: x, y: y };
};

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StarPlusCanvas = function () {
	function StarPlusCanvas(el) {
		_classCallCheck(this, StarPlusCanvas);

		this.canvas = el;
		this.ctx = this.canvas.getContext('2d');
		this.focalPoints = [];
		this.isPlaying = false;
		this.img = null;
	}

	_createClass(StarPlusCanvas, [{
		key: 'init',
		value: function init(img) {
			this.canvas.width = Math.min(window.innerWidth, 600);
			this.canvas.height = this.canvas.width / img.width * img.height;

			this.img = img;
			img.style.display = 'none';

			this.canvas.addEventListener('click', this.addPoint.bind(this));

			this.drawImage(img);
		}
	}, {
		key: 'addPoint',
		value: function addPoint(e) {
			this.ctx.strokeText('x', e.layerX, e.layerY);
			this.focalPoints.push(getOffset(e));
		}
	}, {
		key: 'drawImage',
		value: function drawImage() {
			this.ctx.drawImage(this.img, 0, 0, this.img.width, this.img.height, 0, 0, this.canvas.width, this.canvas.height);
		}
	}, {
		key: 'padFocalPoints',
		value: function padFocalPoints() {
			if (this.focalPoints.length < 10) {
				for (var i = this.focalPoints.length; i < 10; i++) {
					this.focalPoints.push({
						x: Math.random() * this.canvas.width,
						y: Math.random() * this.canvas.height
					});
				}
			}
			return this.focalPoints;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this = this;

			this.isPlaying = true;
			var zConf = this.padFocalPoints().map(function (pt) {
				return {
					ctx: _this.ctx,
					start: pt,
					maxIterations: Math.random() * 150 + 100,
					factor: Math.random() * 0.02 + 1.005
				};
			});

			this.zoom(zConf[0]).then(function () {
				return _this.filter('brightness(10)', 100);
			}).then(function () {
				return _this.zoom(zConf[1]);
			}).then(function () {
				_this.filter('hue-rotate(50deg)', 400);
				return _this.zoom(zConf[2]);
			}).then(function () {
				_this.filter('hue-rotate(-50deg)', 400);
				return _this.zoom(zConf[3]);
			}).then(function () {
				return _this.zoom(zConf[4]);
			}).then(function () {
				_this.filter('invert(100%)', 300);
				return _this.zoom(zConf[5]);
			}).then(function () {
				return _this.zoom(zConf[6]);
			}).then(function () {
				_this.filter('brightness(1.2)', 400);
				return _this.zoom(zConf[7]);
			}).then(function () {
				return _this.filter('invert(100%);blur(2px)', 2000);
			}).then(function () {
				return _this.zoom(zConf[8]);
			}).then(function () {
				this.filter('hue-rotate(120deg)', 400);
				return this.zoom(zConf[9]);
			});
		}
	}, {
		key: 'stop',
		value: function stop() {
			this.isPlaying = false;
			this.ctx.restore();
		}
		// 	isStopped = true;
		// 	ctx.restore();
		// 	stopRecording();
		// 	download();
		// 	a.pause();
		// 	a.currentTime = 0;
		// }

	}, {
		key: 'zoom',
		value: function zoom(opts, iterations) {
			var _this2 = this;

			this.ctx.save();
			iterations = iterations || 0;
			var doZoom = function doZoom() {
				if (!_this2.isPlaying) return;
				return new Promise(function (resolve) {
					_this2.ctx.translate(opts.start.x, opts.start.y);
					if (iterations++ < opts.maxIterations / 2) {
						_this2.ctx.scale(opts.factor, opts.factor);
					} else if (iterations < opts.maxIterations) {
						_this2.ctx.scale(1 / opts.factor, 1 / opts.factor);
					} else {
						_this2.ctx.restore();
						return resolve('asda');
					}

					_this2.ctx.translate(-opts.start.x, -opts.start.y);
					_this2.drawImage();
					requestAnimationFrame(function () {
						resolve(doZoom(opts, iterations));
					});
				});
			};

			return Promise.resolve(doZoom());
		}
	}, {
		key: 'filter',
		value: function filter(effect, duration) {
			var _this3 = this;

			if (!this.isPlaying) return;

			return new Promise(function (resolve) {
				_this3.ctx.filter = effect;
				_this3.drawImage();
				setTimeout(function () {
					_this3.ctx.filter = 'none';
					_this3.drawImage();
					return resolve();
				}, duration);
			});
		}
	}]);

	return StarPlusCanvas;
}();

var imageLoader = function (el, onLoadFn) {
	var img = new Image();

	el.addEventListener('change', function (e) {
		var reader = new FileReader();
		reader.onload = function (event) {

			img.onload = function () {
				onLoadFn(img);
			};
			img.src = event.target.result;
		};
		reader.readAsDataURL(e.target.files[0]);
	}, false);
};

var init = function init() {

	var canvasEl = document.getElementById('c');
	var imageLoaderEl = document.getElementById('imageLoader');
	var startBtn = document.getElementById('start');
	var stopBtn = document.getElementById('stop');

	var spCanvas = new StarPlusCanvas(canvasEl);

	imageLoader(imageLoaderEl, spCanvas.init.bind(spCanvas));

	startBtn.addEventListener('click', function () {
		console.log('starting');
		spCanvas.start();
	});
	stopBtn.addEventListener('click', function () {
		console.log('stop');
		spCanvas.stop();
	});
};

init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL3V0aWxzL2dldC1vZmZzZXQuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9zdGFyLXBsdXMtY2FudmFzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvaW1hZ2UtbG9hZGVyLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihldnQpIHtcblx0bGV0IGVsID0gZXZ0LnRhcmdldDtcblx0bGV0IHggPSAwO1xuXHRsZXQgeSA9IDA7XG5cblx0d2hpbGUgKGVsICYmICFpc05hTihlbC5vZmZzZXRMZWZ0KSAmJiAhaXNOYU4oZWwub2Zmc2V0VG9wKSkge1xuXHRcdHggKz0gZWwub2Zmc2V0TGVmdCAtIGVsLnNjcm9sbExlZnQ7XG5cdFx0eSArPSBlbC5vZmZzZXRUb3AgLSBlbC5zY3JvbGxUb3A7XG5cdFx0ZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG5cdH1cblxuXHR4ID0gZXZ0LmNsaWVudFggLSB4O1xuXHR5ID0gZXZ0LmNsaWVudFkgLSB5O1xuXG5cdHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn0iLCJpbXBvcnQgZ2V0T2Zmc2V0IGZyb20gJy4vdXRpbHMvZ2V0LW9mZnNldCc7XG5cbmNsYXNzIFN0YXJQbHVzQ2FudmFzIHtcblxuXHRjb25zdHJ1Y3RvciAoZWwpIHtcblx0XHR0aGlzLmNhbnZhcyA9IGVsO1xuXHRcdHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHR0aGlzLmZvY2FsUG9pbnRzID0gW107XG5cdFx0dGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcblx0XHR0aGlzLmltZyA9IG51bGw7XG5cdH1cblxuXHRpbml0KGltZykge1xuXHRcdHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIDYwMCk7XG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggLyBpbWcud2lkdGggKiBpbWcuaGVpZ2h0O1xuIFxuXHRcdHRoaXMuaW1nID0gaW1nO1xuXHRcdGltZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0dGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZFBvaW50LmJpbmQodGhpcykpO1xuXG5cdFx0dGhpcy5kcmF3SW1hZ2UoaW1nKTtcblx0fVxuXG5cdGFkZFBvaW50KGUpIHtcblx0XHR0aGlzLmN0eC5zdHJva2VUZXh0KCd4JyxlLmxheWVyWCxlLmxheWVyWSk7XG5cdFx0dGhpcy5mb2NhbFBvaW50cy5wdXNoKGdldE9mZnNldChlKSk7XG5cdH1cblxuXHRkcmF3SW1hZ2UoKSB7XG5cdFx0dGhpcy5jdHguZHJhd0ltYWdlKHRoaXMuaW1nLCAwLCAwLCB0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0LCAwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblx0fVxuXG5cdHBhZEZvY2FsUG9pbnRzKCkge1xuXHRcdGlmKHRoaXMuZm9jYWxQb2ludHMubGVuZ3RoIDwgMTApIHtcblx0XHRcdGZvcih2YXIgaSA9IHRoaXMuZm9jYWxQb2ludHMubGVuZ3RoOyBpPDEwOyBpKyspIHtcblx0XHRcdFx0dGhpcy5mb2NhbFBvaW50cy5wdXNoKHtcblx0XHRcdFx0XHR4OiBNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXMud2lkdGgsXG5cdFx0XHRcdFx0eTogTWF0aC5yYW5kb20oKSAqIHRoaXMuY2FudmFzLmhlaWdodFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZm9jYWxQb2ludHM7XG5cdH1cblxuXHRzdGFydCgpIHtcblx0XHR0aGlzLmlzUGxheWluZyA9IHRydWU7XG5cdFx0Y29uc3QgekNvbmYgPSB0aGlzLnBhZEZvY2FsUG9pbnRzKCkubWFwKChwdCkgPT4gKHtcblx0XHRcdGN0eDogdGhpcy5jdHgsXG5cdFx0XHRzdGFydDogcHQsXG5cdFx0XHRtYXhJdGVyYXRpb25zOiAoTWF0aC5yYW5kb20oKSAqIDE1MCkgKyAxMDAsXG5cdFx0XHRmYWN0b3I6IChNYXRoLnJhbmRvbSgpICogMC4wMikgKyAxLjAwNVxuXHRcdH0pKTtcblxuXHRcdHRoaXMuem9vbSh6Q29uZlswXSlcblx0XHRcdC50aGVuKCgpID0+IHRoaXMuZmlsdGVyKCdicmlnaHRuZXNzKDEwKScsIDEwMCkpXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLnpvb20oekNvbmZbMV0pKVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmZpbHRlcignaHVlLXJvdGF0ZSg1MGRlZyknLCA0MDApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy56b29tKHpDb25mWzJdKTtcblx0XHRcdH0pXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmlsdGVyKCdodWUtcm90YXRlKC01MGRlZyknLCA0MDApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy56b29tKHpDb25mWzNdKTtcblx0XHRcdH0pXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLnpvb20oekNvbmZbNF0pKVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmZpbHRlcignaW52ZXJ0KDEwMCUpJywgMzAwKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuem9vbSh6Q29uZls1XSk7XG5cdFx0XHR9KVxuXHRcdFx0LnRoZW4oKCkgPT4gdGhpcy56b29tKHpDb25mWzZdKSlcblx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5maWx0ZXIoJ2JyaWdodG5lc3MoMS4yKScsIDQwMCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnpvb20oekNvbmZbN10pO1xuXHRcdFx0fSlcblx0XHRcdC50aGVuKCgpID0+IHRoaXMuZmlsdGVyKCdpbnZlcnQoMTAwJSk7Ymx1cigycHgpJywgMjAwMCkpXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLnpvb20oekNvbmZbOF0pKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuZmlsdGVyKCdodWUtcm90YXRlKDEyMGRlZyknLCA0MDApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy56b29tKHpDb25mWzldKTtcblx0XHRcdH0pXG5cdH1cblxuXHRzdG9wKCkge1xuXHRcdHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG5cdFx0dGhpcy5jdHgucmVzdG9yZSgpO1xuXHR9XG4vLyBcdGlzU3RvcHBlZCA9IHRydWU7XG4vLyBcdGN0eC5yZXN0b3JlKCk7XG4vLyBcdHN0b3BSZWNvcmRpbmcoKTtcbi8vIFx0ZG93bmxvYWQoKTtcbi8vIFx0YS5wYXVzZSgpO1xuLy8gXHRhLmN1cnJlbnRUaW1lID0gMDtcbi8vIH1cblxuXHR6b29tIChvcHRzLCBpdGVyYXRpb25zKSB7XG5cdFx0dGhpcy5jdHguc2F2ZSgpO1xuXHRcdGl0ZXJhdGlvbnMgPSBpdGVyYXRpb25zIHx8IDA7XG5cdFx0dmFyIGRvWm9vbSA9ICgpID0+IHtcblx0XHRcdGlmKCF0aGlzLmlzUGxheWluZykgcmV0dXJuO1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRcdHRoaXMuY3R4LnRyYW5zbGF0ZShvcHRzLnN0YXJ0Lngsb3B0cy5zdGFydC55KTtcblx0XHRcdFx0aWYoaXRlcmF0aW9ucysrIDwgb3B0cy5tYXhJdGVyYXRpb25zIC8gMikge1xuXHRcdFx0XHRcdHRoaXMuY3R4LnNjYWxlKG9wdHMuZmFjdG9yLCBvcHRzLmZhY3Rvcik7XG5cdFx0XHRcdH0gZWxzZSBpZiAoaXRlcmF0aW9ucyA8IG9wdHMubWF4SXRlcmF0aW9ucykge1xuXHRcdFx0XHRcdHRoaXMuY3R4LnNjYWxlKDEvb3B0cy5mYWN0b3IsMS9vcHRzLmZhY3Rvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5jdHgucmVzdG9yZSgpO1xuXHRcdFx0XHRcdHJldHVybiByZXNvbHZlKCdhc2RhJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0cy5zdGFydC54LC1vcHRzLnN0YXJ0LnkpO1xuXHRcdFx0XHR0aGlzLmRyYXdJbWFnZSgpO1xuXHRcdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuXHRcdFx0XHRcdHJlc29sdmUoZG9ab29tKG9wdHMsIGl0ZXJhdGlvbnMpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShkb1pvb20oKSk7XG5cdFx0XG5cdH1cblxuXHRmaWx0ZXIoZWZmZWN0LCBkdXJhdGlvbikge1xuXHRcdGlmKCF0aGlzLmlzUGxheWluZykgcmV0dXJuO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHR0aGlzLmN0eC5maWx0ZXIgPSBlZmZlY3Q7XG5cdFx0XHR0aGlzLmRyYXdJbWFnZSgpO1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY3R4LmZpbHRlciA9ICdub25lJztcblx0XHRcdFx0dGhpcy5kcmF3SW1hZ2UoKTtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUoKTtcblx0XHRcdH0sIGR1cmF0aW9uKVxuXHRcdH0pXG5cdH1cbn1cblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgU3RhclBsdXNDYW52YXM7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZWwsIG9uTG9hZEZuKSB7XG5cdGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG5cdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG5cdFx0Y29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRyZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpe1xuXG5cdFx0XHRpbWcub25sb2FkID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0b25Mb2FkRm4oaW1nKTtcblx0XHRcdH1cblx0XHRcdGltZy5zcmMgPSBldmVudC50YXJnZXQucmVzdWx0O1xuXHRcdH1cblx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChlLnRhcmdldC5maWxlc1swXSk7ICAgXG5cdH0sIGZhbHNlKTtcbn0iLCJpbXBvcnQgU3RhclBsdXNDYW52YXMgZnJvbSAnLi9zdGFyLXBsdXMtY2FudmFzJztcbmltcG9ydCBpbWFnZUxvYWRlciBmcm9tICcuL2ltYWdlLWxvYWRlcic7XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG5cblx0Y29uc3QgY2FudmFzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYycpO1xuXHRjb25zdCBpbWFnZUxvYWRlckVsID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZUxvYWRlcicpO1xuXHRjb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpO1xuXHRjb25zdCBzdG9wQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKTtcblxuXHRjb25zdCBzcENhbnZhcyA9IG5ldyBTdGFyUGx1c0NhbnZhcyhjYW52YXNFbCk7XG5cblx0aW1hZ2VMb2FkZXIoaW1hZ2VMb2FkZXJFbCwgc3BDYW52YXMuaW5pdC5iaW5kKHNwQ2FudmFzKSk7XG5cblx0c3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ3N0YXJ0aW5nJyk7XG5cdFx0c3BDYW52YXMuc3RhcnQoKTtcblx0fSk7XG5cdHN0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ3N0b3AnKTtcblx0XHRzcENhbnZhcy5zdG9wKCk7XG5cdH0pO1xufTtcblxuaW5pdCgpOyJdLCJuYW1lcyI6WyJldnQiLCJlbCIsInRhcmdldCIsIngiLCJ5IiwiaXNOYU4iLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsIm9mZnNldFBhcmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiU3RhclBsdXNDYW52YXMiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZm9jYWxQb2ludHMiLCJpc1BsYXlpbmciLCJpbWciLCJ3aWR0aCIsIk1hdGgiLCJtaW4iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZFBvaW50IiwiYmluZCIsImRyYXdJbWFnZSIsImUiLCJzdHJva2VUZXh0IiwibGF5ZXJYIiwibGF5ZXJZIiwicHVzaCIsImdldE9mZnNldCIsImxlbmd0aCIsImkiLCJyYW5kb20iLCJ6Q29uZiIsInBhZEZvY2FsUG9pbnRzIiwibWFwIiwicHQiLCJ6b29tIiwidGhlbiIsImZpbHRlciIsInJlc3RvcmUiLCJvcHRzIiwiaXRlcmF0aW9ucyIsInNhdmUiLCJkb1pvb20iLCJQcm9taXNlIiwicmVzb2x2ZSIsInRyYW5zbGF0ZSIsInN0YXJ0IiwibWF4SXRlcmF0aW9ucyIsInNjYWxlIiwiZmFjdG9yIiwiZWZmZWN0IiwiZHVyYXRpb24iLCJvbkxvYWRGbiIsIkltYWdlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50Iiwic3JjIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImZpbGVzIiwiaW5pdCIsImNhbnZhc0VsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImltYWdlTG9hZGVyRWwiLCJzdGFydEJ0biIsInN0b3BCdG4iLCJzcENhbnZhcyIsImxvZyIsInN0b3AiXSwibWFwcGluZ3MiOiI7OztBQUFBLGdCQUFlLFVBQVNBLEdBQVQsRUFBYztLQUN4QkMsS0FBS0QsSUFBSUUsTUFBYjtLQUNJQyxJQUFJLENBQVI7S0FDSUMsSUFBSSxDQUFSOztRQUVPSCxNQUFNLENBQUNJLE1BQU1KLEdBQUdLLFVBQVQsQ0FBUCxJQUErQixDQUFDRCxNQUFNSixHQUFHTSxTQUFULENBQXZDLEVBQTREO09BQ3RETixHQUFHSyxVQUFILEdBQWdCTCxHQUFHTyxVQUF4QjtPQUNLUCxHQUFHTSxTQUFILEdBQWVOLEdB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
