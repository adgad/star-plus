(function () {
'use strict';

var getOffset = function (evt) {
	var el = evt.target;
	var x = 0;
	var y = 0;

	while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {
		x += el.offsetLeft - el.scrollLeft;
		y += el.offsetTop - el.scrollTop;
		el = el.offsetParent;
	}

	x = evt.clientX - x;
	y = evt.clientY - y;

	return { x: x, y: y };
};

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StarPlusCanvas = function () {
	function StarPlusCanvas(el) {
		_classCallCheck(this, StarPlusCanvas);

		this.canvas = el;
		this.ctx = this.canvas.getContext('2d');
		this.focalPoints = [];
		this.isPlaying = false;
		this.img = null;
	}

	_createClass(StarPlusCanvas, [{
		key: 'init',
		value: function init(img) {
			this.canvas.width = Math.min(window.innerWidth, 600);
			this.canvas.height = this.canvas.width / img.width * img.height;

			this.img = img;
			img.style.display = 'none';

			this.canvas.addEventListener('click', this.addPoint.bind(this));

			this.drawImage(img);
		}
	}, {
		key: 'addPoint',
		value: function addPoint(e) {
			this.ctx.strokeText('x', e.layerX, e.layerY);
			this.focalPoints.push(getOffset(e));
		}
	}, {
		key: 'drawImage',
		value: function drawImage() {
			this.ctx.drawImage(this.img, 0, 0, this.img.width, this.img.height, 0, 0, this.canvas.width, this.canvas.height);
		}
	}, {
		key: 'padFocalPoints',
		value: function padFocalPoints() {
			if (this.focalPoints.length < 10) {
				for (var i = this.focalPoints.length; i < 10; i++) {
					this.focalPoints.push({
						x: Math.random() * this.canvas.width,
						y: Math.random() * this.canvas.height
					});
				}
			}
			return this.focalPoints;
		}
	}, {
		key: 'start',
		value: function start() {
			var _this = this;

			this.isPlaying = true;
			var zConf = this.padFocalPoints().map(function (pt) {
				return {
					ctx: _this.ctx,
					start: pt,
					maxIterations: Math.random() * 150 + 100,
					factor: Math.random() * 0.02 + 1.005
				};
			});

			this.zoom(zConf[0]).then(function () {
				return _this.filter('brightness(10)', 100);
			}).then(function () {
				return _this.zoom(zConf[1]);
			}).then(function () {
				_this.filter('hue-rotate(50deg)', 400);
				return _this.zoom(zConf[2]);
			}).then(function () {
				_this.filter('hue-rotate(-50deg)', 400);
				return _this.zoom(zConf[3]);
			}).then(function () {
				return _this.zoom(zConf[4]);
			}).then(function () {
				_this.filter('invert(100%)', 300);
				return _this.zoom(zConf[5]);
			}).then(function () {
				return _this.zoom(zConf[6]);
			}).then(function () {
				_this.filter('brightness(1.2)', 400);
				return _this.zoom(zConf[7]);
			}).then(function () {
				return _this.filter('invert(100%);blur(2px)', 2000);
			}).then(function () {
				return _this.zoom(zConf[8]);
			}).then(function () {
				_this.filter('hue-rotate(120deg)', 400);
				return _this.zoom(zConf[9]);
			});
		}
	}, {
		key: 'stop',
		value: function stop() {
			this.isPlaying = false;
			this.ctx.restore();
		}
	}, {
		key: 'zoom',
		value: function zoom(opts, iterations) {
			var _this2 = this;

			this.ctx.save();
			iterations = iterations || 0;
			var doZoom = function doZoom() {
				if (!_this2.isPlaying) return;
				return new Promise(function (resolve) {
					_this2.ctx.translate(opts.start.x, opts.start.y);
					if (iterations++ < opts.maxIterations / 2) {
						_this2.ctx.scale(opts.factor, opts.factor);
					} else if (iterations < opts.maxIterations) {
						_this2.ctx.scale(1 / opts.factor, 1 / opts.factor);
					} else {
						_this2.ctx.restore();
						return resolve('asda');
					}

					_this2.ctx.translate(-opts.start.x, -opts.start.y);
					_this2.drawImage();
					requestAnimationFrame(function () {
						resolve(doZoom(opts, iterations));
					});
				});
			};

			return Promise.resolve(doZoom());
		}
	}, {
		key: 'filter',
		value: function filter(effect, duration) {
			var _this3 = this;

			if (!this.isPlaying) return;

			return new Promise(function (resolve) {
				_this3.ctx.filter = effect;
				_this3.drawImage();
				setTimeout(function () {
					_this3.ctx.filter = 'none';
					_this3.drawImage();
					return resolve();
				}, duration);
			});
		}
	}, {
		key: 'stream',
		get: function get() {
			return this.canvas.captureStream();
		}
	}]);

	return StarPlusCanvas;
}();

var _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var AudioPlayer = function () {
	function AudioPlayer(el) {
		_classCallCheck$1(this, AudioPlayer);

		this.el = el;
		this.ctx = new AudioContext();
		this.el.oncanplay = this.setUpStream.bind(this);
		this.stream = null;
	}

	_createClass$1(AudioPlayer, [{
		key: "setUpStream",
		value: function setUpStream() {
			// create a stream from our AudioContext
			var dest = this.ctx.createMediaStreamDestination();
			this.stream = dest.stream;
			// connect our audio element's output to the stream
			var sourceNode = this.ctx.createMediaElementSource(this.el);
			sourceNode.connect(dest);
			sourceNode.connect(this.ctx.destination);

			this.el.oncanplay = null;
		}
	}, {
		key: "start",
		value: function start() {
			this.el.play();
		}
	}, {
		key: "stop",
		value: function stop() {
			this.el.pause();
			this.el.currentTime = 0;
		}
	}, {
		key: "track",
		get: function get() {
			return this.stream.getAudioTracks()[0];
		}
	}]);

	return AudioPlayer;
}();

var _createClass$2 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*globals MediaRecorder */
var Recorder = function () {
	function Recorder(stream, audioPlayer) {
		_classCallCheck$2(this, Recorder);

		this.stream = stream;
		this.mediaSource = new MediaSource();
		this.mediaRecorder = null;
		this.recordedBlobs = [];
		this.sourceBuffer = null;
		this.audioPlayer = audioPlayer;
	}

	_createClass$2(Recorder, [{
		key: 'start',
		value: function start() {
			var _this = this;

			//reset the recorded blobs
			this.recordedBlobs = [];
			this.stream.addTrack(this.audioPlayer.track);

			try {
				var mixedStream = 'MediaStream' in window ? new MediaStream([this.stream.getVideoTracks()[0], this.audioPlayer.track]) : this.stream;
				this.mediaRecorder = new MediaRecorder(mixedStream);
			} catch (e) {
				console.log('MediaRecorder is not supported by this browser', e);
				return;
			}

			//store the data whenever the mediarecorder gives us something
			var handleDataAvailable = function handleDataAvailable(event) {
				if (event.data && event.data.size > 0) {
					_this.recordedBlobs.push(event.data);
				}
			};

			this.mediaRecorder.ondataavailable = handleDataAvailable;

			//start recording
			this.mediaRecorder.start(100);
		}
	}, {
		key: 'stop',
		value: function stop() {
			this.mediaRecorder.stop();
		}
	}, {
		key: 'download',
		value: function download() {
			var blob = new Blob(this.recordedBlobs);
			var url = window.URL.createObjectURL(blob);
			var a = document.createElement('a');
			a.style.display = 'none';
			a.href = url;
			a.download = 'star-plus.webm';
			document.body.appendChild(a);
			a.click();
			setTimeout(function () {
				document.body.removeChild(a);
				window.URL.revokeObjectURL(url);
			}, 100);
		}
	}]);

	return Recorder;
}();

var imageLoader = function (el, onLoadFn) {
	var img = new Image();

	el.addEventListener('change', function (e) {
		var reader = new FileReader();
		reader.onload = function (event) {

			img.onload = function () {
				onLoadFn(img);
			};
			img.src = event.target.result;
		};
		reader.readAsDataURL(e.target.files[0]);
	}, false);
};

var init = function init() {

	var canvasEl = document.getElementById('c');
	var audioEl = document.getElementById('a');
	var imageLoaderEl = document.getElementById('imageLoader');
	var startBtn = document.getElementById('start');
	var stopBtn = document.getElementById('stop');

	var spCanvas = new StarPlusCanvas(canvasEl);
	var audioPlayer = new AudioPlayer(audioEl);
	var recorder = new Recorder(spCanvas.stream, audioPlayer);

	imageLoader(imageLoaderEl, spCanvas.init.bind(spCanvas));

	startBtn.addEventListener('click', function () {
		spCanvas.start();
		audioPlayer.start();
		recorder.start();
	});
	stopBtn.addEventListener('click', function () {
		spCanvas.stop();
		audioPlayer.stop();
		recorder.stop();
		recorder.download();
	});
};

init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL3V0aWxzL2dldC1vZmZzZXQuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9zdGFyLXBsdXMtY2FudmFzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvYXVkaW8tcGxheWVyLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvcmVjb3JkZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9pbWFnZS1sb2FkZXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGV2dCkge1xuXHRsZXQgZWwgPSBldnQudGFyZ2V0O1xuXHRsZXQgeCA9IDA7XG5cdGxldCB5ID0gMDtcblxuXHR3aGlsZSAoZWwgJiYgIWlzTmFOKGVsLm9mZnNldExlZnQpICYmICFpc05hTihlbC5vZmZzZXRUb3ApKSB7XG5cdFx0eCArPSBlbC5vZmZzZXRMZWZ0IC0gZWwuc2Nyb2xsTGVmdDtcblx0XHR5ICs9IGVsLm9mZnNldFRvcCAtIGVsLnNjcm9sbFRvcDtcblx0XHRlbCA9IGVsLm9mZnNldFBhcmVudDtcblx0fVxuXG5cdHggPSBldnQuY2xpZW50WCAtIHg7XG5cdHkgPSBldnQuY2xpZW50WSAtIHk7XG5cblx0cmV0dXJuIHsgeDogeCwgeTogeSB9O1xufSIsImltcG9ydCBnZXRPZmZzZXQgZnJvbSAnLi91dGlscy9nZXQtb2Zmc2V0JztcblxuY2xhc3MgU3RhclBsdXNDYW52YXMge1xuXG5cdGNvbnN0cnVjdG9yIChlbCkge1xuXHRcdHRoaXMuY2FudmFzID0gZWw7XG5cdFx0dGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXHRcdHRoaXMuZm9jYWxQb2ludHMgPSBbXTtcblx0XHR0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuXHRcdHRoaXMuaW1nID0gbnVsbDtcblx0fVxuXG5cdGluaXQoaW1nKSB7XG5cdFx0dGhpcy5jYW52YXMud2lkdGggPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCwgNjAwKTtcblx0XHR0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy53aWR0aCAvIGltZy53aWR0aCAqIGltZy5oZWlnaHQ7XG4gXG5cdFx0dGhpcy5pbWcgPSBpbWc7XG5cdFx0aW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cblx0XHR0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkUG9pbnQuYmluZCh0aGlzKSk7XG5cblx0XHR0aGlzLmRyYXdJbWFnZShpbWcpO1xuXHR9XG5cblx0YWRkUG9pbnQoZSkge1xuXHRcdHRoaXMuY3R4LnN0cm9rZVRleHQoJ3gnLGUubGF5ZXJYLGUubGF5ZXJZKTtcblx0XHR0aGlzLmZvY2FsUG9pbnRzLnB1c2goZ2V0T2Zmc2V0KGUpKTtcblx0fVxuXG5cdGRyYXdJbWFnZSgpIHtcblx0XHR0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIDAsIDAsIHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQsIDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXHR9XG5cblx0Z2V0IHN0cmVhbSgpIHtcblx0XHRyZXR1cm4gdGhpcy5jYW52YXMuY2FwdHVyZVN0cmVhbSgpO1xuXHR9XG5cblx0cGFkRm9jYWxQb2ludHMoKSB7XG5cdFx0aWYodGhpcy5mb2NhbFBvaW50cy5sZW5ndGggPCAxMCkge1xuXHRcdFx0Zm9yKHZhciBpID0gdGhpcy5mb2NhbFBvaW50cy5sZW5ndGg7IGk8MTA7IGkrKykge1xuXHRcdFx0XHR0aGlzLmZvY2FsUG9pbnRzLnB1c2goe1xuXHRcdFx0XHRcdHg6IE1hdGgucmFuZG9tKCkgKiB0aGlzLmNhbnZhcy53aWR0aCxcblx0XHRcdFx0XHR5OiBNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXMuaGVpZ2h0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5mb2NhbFBvaW50cztcblx0fVxuXG5cdHN0YXJ0KCkge1xuXHRcdHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcblx0XHRjb25zdCB6Q29uZiA9IHRoaXMucGFkRm9jYWxQb2ludHMoKS5tYXAoKHB0KSA9PiAoe1xuXHRcdFx0Y3R4OiB0aGlzLmN0eCxcblx0XHRcdHN0YXJ0OiBwdCxcblx0XHRcdG1heEl0ZXJhdGlvbnM6IChNYXRoLnJhbmRvbSgpICogMTUwKSArIDEwMCxcblx0XHRcdGZhY3RvcjogKE1hdGgucmFuZG9tKCkgKiAwLjAyKSArIDEuMDA1XG5cdFx0fSkpO1xuXG5cdFx0dGhpcy56b29tKHpDb25mWzBdKVxuXHRcdFx0LnRoZW4oKCkgPT4gdGhpcy5maWx0ZXIoJ2JyaWdodG5lc3MoMTApJywgMTAwKSlcblx0XHRcdC50aGVuKCgpID0+IHRoaXMuem9vbSh6Q29uZlsxXSkpXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmlsdGVyKCdodWUtcm90YXRlKDUwZGVnKScsIDQwMCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnpvb20oekNvbmZbMl0pO1xuXHRcdFx0fSlcblx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5maWx0ZXIoJ2h1ZS1yb3RhdGUoLTUwZGVnKScsIDQwMCk7XG5cdFx0XHRcdHJldHVybiB0aGlzLnpvb20oekNvbmZbM10pO1xuXHRcdFx0fSlcblx0XHRcdC50aGVuKCgpID0+IHRoaXMuem9vbSh6Q29uZls0XSkpXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmlsdGVyKCdpbnZlcnQoMTAwJSknLCAzMDApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy56b29tKHpDb25mWzVdKTtcblx0XHRcdH0pXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLnpvb20oekNvbmZbNl0pKVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmZpbHRlcignYnJpZ2h0bmVzcygxLjIpJywgNDAwKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuem9vbSh6Q29uZls3XSk7XG5cdFx0XHR9KVxuXHRcdFx0LnRoZW4oKCkgPT4gdGhpcy5maWx0ZXIoJ2ludmVydCgxMDAlKTtibHVyKDJweCknLCAyMDAwKSlcblx0XHRcdC50aGVuKCgpID0+IHRoaXMuem9vbSh6Q29uZls4XSkpXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmlsdGVyKCdodWUtcm90YXRlKDEyMGRlZyknLCA0MDApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy56b29tKHpDb25mWzldKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0c3RvcCgpIHtcblx0XHR0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuXHRcdHRoaXMuY3R4LnJlc3RvcmUoKTtcblx0fVxuXG5cdHpvb20gKG9wdHMsIGl0ZXJhdGlvbnMpIHtcblx0XHR0aGlzLmN0eC5zYXZlKCk7XG5cdFx0aXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnMgfHwgMDtcblx0XHR2YXIgZG9ab29tID0gKCkgPT4ge1xuXHRcdFx0aWYoIXRoaXMuaXNQbGF5aW5nKSByZXR1cm47XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdFx0dGhpcy5jdHgudHJhbnNsYXRlKG9wdHMuc3RhcnQueCxvcHRzLnN0YXJ0LnkpO1xuXHRcdFx0XHRpZihpdGVyYXRpb25zKysgPCBvcHRzLm1heEl0ZXJhdGlvbnMgLyAyKSB7XG5cdFx0XHRcdFx0dGhpcy5jdHguc2NhbGUob3B0cy5mYWN0b3IsIG9wdHMuZmFjdG9yKTtcblx0XHRcdFx0fSBlbHNlIGlmIChpdGVyYXRpb25zIDwgb3B0cy5tYXhJdGVyYXRpb25zKSB7XG5cdFx0XHRcdFx0dGhpcy5jdHguc2NhbGUoMS9vcHRzLmZhY3RvciwxL29wdHMuZmFjdG9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmN0eC5yZXN0b3JlKCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUoJ2FzZGEnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5jdHgudHJhbnNsYXRlKC1vcHRzLnN0YXJ0LngsLW9wdHMuc3RhcnQueSk7XG5cdFx0XHRcdHRoaXMuZHJhd0ltYWdlKCk7XG5cdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG5cdFx0XHRcdFx0cmVzb2x2ZShkb1pvb20ob3B0cywgaXRlcmF0aW9ucykpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRvWm9vbSgpKTtcblx0XHRcblx0fVxuXG5cdGZpbHRlcihlZmZlY3QsIGR1cmF0aW9uKSB7XG5cdFx0aWYoIXRoaXMuaXNQbGF5aW5nKSByZXR1cm47XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdHRoaXMuY3R4LmZpbHRlciA9IGVmZmVjdDtcblx0XHRcdHRoaXMuZHJhd0ltYWdlKCk7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5jdHguZmlsdGVyID0gJ25vbmUnO1xuXHRcdFx0XHR0aGlzLmRyYXdJbWFnZSgpO1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZSgpO1xuXHRcdFx0fSwgZHVyYXRpb24pO1xuXHRcdH0pO1xuXHR9XG59XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IFN0YXJQbHVzQ2FudmFzOyIsIlxuY2xhc3MgQXVkaW9QbGF5ZXIge1xuXG5cdGNvbnN0cnVjdG9yKGVsKSB7XG5cdFx0dGhpcy5lbCA9IGVsO1xuXHRcdHRoaXMuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXHRcdHRoaXMuZWwub25jYW5wbGF5ID0gdGhpcy5zZXRVcFN0cmVhbS5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuc3RyZWFtID0gbnVsbDtcblx0fVxuXG5cdHNldFVwU3RyZWFtKCkge1xuXHRcdC8vIGNyZWF0ZSBhIHN0cmVhbSBmcm9tIG91ciBBdWRpb0NvbnRleHRcblx0XHRjb25zdCBkZXN0ID0gdGhpcy5jdHguY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO1xuXHRcdHRoaXMuc3RyZWFtID0gZGVzdC5zdHJlYW07XG5cdFx0Ly8gY29ubmVjdCBvdXIgYXVkaW8gZWxlbWVudCdzIG91dHB1dCB0byB0aGUgc3RyZWFtXG5cdFx0Y29uc3Qgc291cmNlTm9kZSA9IHRoaXMuY3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmVsKTtcblx0XHRzb3VyY2VOb2RlLmNvbm5lY3QoZGVzdCk7XG5cdFx0c291cmNlTm9kZS5jb25uZWN0KHRoaXMuY3R4LmRlc3RpbmF0aW9uKTtcblxuXHRcdHRoaXMuZWwub25jYW5wbGF5ID0gbnVsbDtcblxuXHR9XG5cblx0Z2V0IHRyYWNrKCkge1xuXHRcdHJldHVybiB0aGlzLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuXHR9XG5cblx0c3RhcnQoKSB7XG5cdFx0dGhpcy5lbC5wbGF5KCk7XG5cdH1cblxuXHRzdG9wKCkge1xuXHRcdHRoaXMuZWwucGF1c2UoKTtcblx0XHR0aGlzLmVsLmN1cnJlbnRUaW1lID0gMDtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdWRpb1BsYXllcjsiLCIvKmdsb2JhbHMgTWVkaWFSZWNvcmRlciAqL1xuY2xhc3MgUmVjb3JkZXIge1xuXG5cdGNvbnN0cnVjdG9yKHN0cmVhbSwgYXVkaW9QbGF5ZXIpIHtcblx0XHR0aGlzLnN0cmVhbSA9IHN0cmVhbTtcblx0XHR0aGlzLm1lZGlhU291cmNlID0gbmV3IE1lZGlhU291cmNlKCk7XG5cdFx0dGhpcy5tZWRpYVJlY29yZGVyID0gbnVsbDtcblx0XHR0aGlzLnJlY29yZGVkQmxvYnMgPSBbXTtcblx0XHR0aGlzLnNvdXJjZUJ1ZmZlciA9IG51bGw7XG5cdFx0dGhpcy5hdWRpb1BsYXllciA9IGF1ZGlvUGxheWVyO1xuXHR9XG5cblx0c3RhcnQoKSB7XG5cdFx0Ly9yZXNldCB0aGUgcmVjb3JkZWQgYmxvYnNcblx0XHR0aGlzLnJlY29yZGVkQmxvYnMgPSBbXTtcblx0XHR0aGlzLnN0cmVhbS5hZGRUcmFjayh0aGlzLmF1ZGlvUGxheWVyLnRyYWNrKTtcblxuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciBtaXhlZFN0cmVhbSA9ICdNZWRpYVN0cmVhbScgaW4gd2luZG93ID8gXG5cdFx0XHRuZXcgTWVkaWFTdHJlYW0oW3RoaXMuc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0sIHRoaXMuYXVkaW9QbGF5ZXIudHJhY2tdKSA6XG5cdFx0XHR0aGlzLnN0cmVhbTtcblx0XHRcdHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKG1peGVkU3RyZWFtKTtcblx0XHR9IGNhdGNoIChlKSB7XHRcdFxuXHRcdFx0Y29uc29sZS5sb2coJ01lZGlhUmVjb3JkZXIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXInLCBlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvL3N0b3JlIHRoZSBkYXRhIHdoZW5ldmVyIHRoZSBtZWRpYXJlY29yZGVyIGdpdmVzIHVzIHNvbWV0aGluZ1xuXHRcdGNvbnN0IGhhbmRsZURhdGFBdmFpbGFibGUgPSAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChldmVudC5kYXRhICYmIGV2ZW50LmRhdGEuc2l6ZSA+IDApIHtcblx0XHRcdFx0dGhpcy5yZWNvcmRlZEJsb2JzLnB1c2goZXZlbnQuZGF0YSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBoYW5kbGVEYXRhQXZhaWxhYmxlO1xuXG5cdFx0Ly9zdGFydCByZWNvcmRpbmdcblx0XHR0aGlzLm1lZGlhUmVjb3JkZXIuc3RhcnQoMTAwKTtcblx0fVxuXG5cdHN0b3AoKSB7XG5cdFx0dGhpcy5tZWRpYVJlY29yZGVyLnN0b3AoKTtcblx0fVxuXG5cdGRvd25sb2FkKCkge1xuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYih0aGlzLnJlY29yZGVkQmxvYnMpO1xuXHRcdGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0YS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdGEuaHJlZiA9IHVybDtcblx0XHRhLmRvd25sb2FkID0gJ3N0YXItcGx1cy53ZWJtJztcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuXHRcdGEuY2xpY2soKTtcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcblx0XHRcdHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG5cdFx0fSwgMTAwKTtcblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlY29yZGVyOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGVsLCBvbkxvYWRGbikge1xuXHRjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcblxuXHRlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuXHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KXtcblxuXHRcdFx0aW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdG9uTG9hZEZuKGltZyk7XG5cdFx0XHR9O1xuXHRcdFx0aW1nLnNyYyA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG5cdFx0fTtcblx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChlLnRhcmdldC5maWxlc1swXSk7ICAgXG5cdH0sIGZhbHNlKTtcbn0iLCJpbXBvcnQgU3RhclBsdXNDYW52YXMgZnJvbSAnLi9zdGFyLXBsdXMtY2FudmFzJztcbmltcG9ydCBBdWRpb1BsYXllciBmcm9tICcuL2F1ZGlvLXBsYXllcic7XG5pbXBvcnQgUmVjb3JkZXIgZnJvbSAnLi9yZWNvcmRlcic7XG5pbXBvcnQgaW1hZ2VMb2FkZXIgZnJvbSAnLi9pbWFnZS1sb2FkZXInO1xuXG5jb25zdCBpbml0ID0gKCkgPT4ge1xuXG5cdGNvbnN0IGNhbnZhc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2MnKTtcblx0Y29uc3QgYXVkaW9FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhJyk7XG5cdGNvbnN0IGltYWdlTG9hZGVyRWwgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlTG9hZGVyJyk7XG5cdGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0Jyk7XG5cdGNvbnN0IHN0b3BCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xuXG5cdGNvbnN0IHNwQ2FudmFzID0gbmV3IFN0YXJQbHVzQ2FudmFzKGNhbnZhc0VsKTtcblx0Y29uc3QgYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoYXVkaW9FbCk7XG5cdGNvbnN0IHJlY29yZGVyID0gbmV3IFJlY29yZGVyKHNwQ2FudmFzLnN0cmVhbSwgYXVkaW9QbGF5ZXIpO1xuXG5cdGltYWdlTG9hZGVyKGltYWdlTG9hZGVyRWwsIHNwQ2FudmFzLmluaXQuYmluZChzcENhbnZhcykpO1xuXG5cdHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdHNwQ2FudmFzLnN0YXJ0KCk7XG5cdFx0YXVkaW9QbGF5ZXIuc3RhcnQoKTtcblx0XHRyZWNvcmRlci5zdGFydCgpO1xuXHR9KTtcblx0c3RvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRzcENhbnZhcy5zdG9wKCk7XG5cdFx0YXVkaW9QbGF5ZXIuc3RvcCgpO1xuXHRcdHJlY29yZGVyLnN0b3AoKTtcblx0XHRyZWNvcmRlci5kb3dubG9hZCgpO1xuXHR9KTtcbn07XG5cbmluaXQoKTsiXSwibmFtZXMiOlsiZXZ0IiwiZWwiLCJ0YXJnZXQiLCJ4IiwieSIsImlzTmFOIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJvZmZzZXRQYXJlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsIlN0YXJQbHVzQ2FudmFzIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImZvY2FsUG9pbnRzIiwiaXNQbGF5aW5nIiwiaW1nIiwid2lkdGgiLCJNYXRoIiwibWluIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsInN0eWxlIiwiZGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRQb2ludCIsImJpbmQiLCJkcmF3SW1hZ2UiLCJlIiwic3Ryb2tlVGV4dCIsImxheWVyWCIsImxheWVyWSIsInB1c2giLCJnZXRPZmZzZXQiLCJsZW5ndGgiLCJpIiwicmFuZG9tIiwiekNvbmYiLCJwYWRGb2NhbFBvaW50cyIsIm1hcCIsInB0Iiwiem9vbSIsInRoZW4iLCJmaWx0ZXIiLCJyZXN0b3JlIiwib3B0cyIsIml0ZXJhdGlvbnMiLCJzYXZlIiwiZG9ab29tIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0cmFuc2xhdGUiLCJzdGFydCIsIm1heEl0ZXJhdGlvbnMiLCJzY2FsZSIsImZhY3RvciIsImVmZmVjdCIsImR1cmF0aW9uIiwiY2FwdHVyZVN0cmVhbSIsIkF1ZGlvUGxheWVyIiwiQXVkaW9Db250ZXh0Iiwib25jYW5wbGF5Iiwic2V0VXBTdHJlYW0iLCJzdHJlYW0iLCJkZXN0IiwiY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbiIsInNvdXJjZU5vZGUiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJwbGF5IiwicGF1c2UiLCJjdXJyZW50VGltZSIsImdldEF1ZGlvVHJhY2tzIiwiUmVjb3JkZXIiLCJhdWRpb1BsYXllciIsIm1lZGlhU291cmNlIiwiTWVkaWFTb3VyY2UiLCJtZWRpYVJlY29yZGVyIiwicmVjb3JkZWRCbG9icyIsInNvdXJjZUJ1ZmZlciIsImFkZFRyYWNrIiwidHJhY2siLCJtaXhlZFN0cmVhbSIsIk1lZGlhU3RyZWFtIiwiZ2V0VmlkZW9UcmFja3MiLCJNZWRpYVJlY29yZGVyIiwibG9nIiwiaGFuZGxlRGF0YUF2YWlsYWJsZSIsImV2ZW50IiwiZGF0YSIsInNpemUiLCJvbmRhdGFhdmFpbGFibGUiLCJzdG9wIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsIm9uTG9hZEZuIiwiSW1hZ2UiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwic3JjIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImZpbGVzIiwiaW5pdCIsImNhbnZhc0VsIiwiZ2V0RWxlbWVudEJ5SWQiLCJhdWRpb0VsIiwiaW1hZ2VMb2FkZXJFbCIsInN0YXJ0QnRuIiwic3RvcEJ0biIsInNwQ2FudmFzIiwicmVjb3JkZXIiXSwibWFwcGluZ3MiOiI7OztBQUFBLGdCQUFlLFVBQVNBLEdBQVQsRUFBYztLQUN4QkMsS0FBS0QsSUFBSUUsTUFBYjtLQUNJQyxJQUFJLENBQVI7S0FDSUMsSUFBSSxDQUFSOztRQUVPSCxNQUFNLENBQUNJLE1BQU1KLEdBQUdLLFVBQVQsQ0FBUCxJQUErQixDQUFDRCxNQUFNSixHQUFHTSxTQUFULENBQXZDLEVBQTREO09BQ3RETixHQUFHSyxVQUFILEdBQWdCTCxHQUFHTyxVQUF4QjtPQUNLUCxHQUFHTSxTQUFILEdBQWVOLEdBQUdRLFNBQXZCO09BQ0tSLEdBQUdTLFlBQVI7OztLQUdHVixJQUFJVyxPQUFKLEdBQWNSLENBQWxCO0tBQ0lILElBQUlZLE9BQUosR0FBY1IsQ0FBbEI7O1FBRU8sRUFBRUQsR0FBR0EsQ0FBTCxFQUFRQyxHQUFHQSxDQUFYLEVBQVA7Ozs7Ozs7QUNkRCxJQUVNUzt5QkFFUVosRUFBYixFQUFpQjs7O09BQ1hhLE1BQUwsR0FBY2IsRUFBZDtPQUNLYyxHQUFMLEdBQVcsS0FBS0QsTUFBTCxDQUFZRSxVQUFaLENBQXVCLElBQXZCLENBQVg7T0FDS0MsV0FBTCxHQUFtQixFQUFuQjtPQUNLQyxTQUFMLEdBQWlCLEtBQWpCO09BQ0tDLEdBQUwsR0FBVyxJQUFYOzs7Ozt1QkFHSUEsS0FBSztRQUNKTCxNQUFMLENBQVlNLEtBQVosR0FBb0JDLEtBQUtDLEdBQUwsQ0FBU0MsT0FBT0MsVUFBaEIsRUFBNEIsR0FBNUIsQ0FBcEI7UUFDS1YsTUFBTCxDQUFZVyxNQUFaLEdBQXFCLEtBQUtYLE1BQUwsQ0FBWU0sS0FBWixHQUFvQkQsSUFBSUMsS0FBeEIsR0FBZ0NELElBQUlNLE1BQXpEOztRQUVLTixHQUFMLEdBQVdBLEdBQVg7T0FDSU8sS0FBSixDQUFVQyxPQUFWLEdBQW9CLE1BQXBCOztRQUVLYixNQUFMLENBQVljLGdCQUFaLENBQTZCLE9BQTdCLEVBQXNDLEtBQUtDLFFBQUwsQ0FBY0MsSUFBZCxDQUFtQixJQUFuQixDQUF0Qzs7UUFFS0MsU0FBTCxDQUFlWixHQUFmOzs7OzJCQUdRYSxHQUFHO1FBQ05qQixHQUFMLENBQVNrQixVQUFULENBQW9CLEdBQXBCLEVBQXdCRCxFQUFFRSxNQUExQixFQUFpQ0YsRUFBRUcsTUFBbkM7UUFDS2xCLFdBQUwsQ0FBaUJtQixJQUFqQixDQUFzQkMsVUFBVUwsQ0FBVixDQUF0Qjs7Ozs4QkFHVztRQUNOakIsR0FBTCxDQUFTZ0IsU0FBVCxDQUFtQixLQUFLWixHQUF4QixFQUE2QixDQUE3QixFQUFnQyxDQUFoQyxFQUFtQyxLQUFLQSxHQUFMLENBQVNDLEtBQTVDLEVBQW1ELEtBQUtELEdBQUwsQ0FBU00sTUFBNUQsRUFBb0UsQ0FBcEUsRUFBdUUsQ0FBdkUsRUFBMEUsS0FBS1gsTUFBTCxDQUFZTSxLQUF0RixFQUE2RixLQUFLTixNQUFMLENBQVlXLE1BQXpHOzs7O21DQU9nQjtPQUNiLEtBQUtSLFdBQUwsQ0FBaUJxQixNQUFqQixHQUEwQixFQUE3QixFQUFpQztTQUM1QixJQUFJQyxJQUFJLEtBQUt0QixXQUFMLENBQWlCcUIsTUFBN0IsRUFBcUNDLElBQUUsRUFBdkMsRUFBMkNBLEdBQTNDLEVBQWdEO1VBQzFDdEIsV0FBTCxDQUFpQm1CLElBQWpCLENBQXNCO1NBQ2xCZixLQUFLbUIsTUFBTCxLQUFnQixLQUFLMUIsTUFBTCxDQUFZTSxLQURWO1NBRWxCQyxLQUFLbUIsTUFBTCxLQUFnQixLQUFLMUIsTUFBTCxDQUFZVztNQUZoQzs7O1VBTUssS0FBS1IsV0FBWjs7OzswQkFHTzs7O1FBQ0ZDLFNBQUwsR0FBaUIsSUFBakI7T0FDTXVCLFFBQVEsS0FBS0MsY0FBTCxHQUFzQkMsR0FBdEIsQ0FBMEIsVUFBQ0MsRUFBRDtXQUFTO1VBQzNDLE1BQUs3QixHQURzQztZQUV6QzZCLEVBRnlDO29CQUdoQ3ZCLEtBQUttQixNQUFMLEtBQWdCLEdBQWpCLEdBQXdCLEdBSFM7YUFJdkNuQixLQUFLbUIsTUFBTCxLQUFnQixJQUFqQixHQUF5QjtLQUpNO0lBQTFCLENBQWQ7O1FBT0tLLElBQUwsQ0FBVUosTUFBTSxDQUFOLENBQVYsRUFDRUssSUFERixDQUNPO1dBQU0sTUFBS0MsTUFBTCxDQUFZLGdCQUFaLEVBQThCLEdBQTlCLENBQU47SUFEUCxFQUVFRCxJQUZGLENBRU87V0FBTSxNQUFLRCxJQUFMLENBQVVKLE1BQU0sQ0FBTixDQUFWLENBQU47SUFGUCxFQUdFSyxJQUhGLENBR08sWUFBTTtVQUNOQyxNQUFMLENBQVksbUJBQVosRUFBaUMsR0FBakM7V0FDTyxNQUFLRixJQUFMLENBQVVKLE1BQU0sQ0FBTixDQUFWLENBQVA7SUFMRixFQU9FSyxJQVBGLENBT08sWUFBTTtVQUNOQyxNQUFMLENBQVksb0JBQVosRUFBa0MsR0FBbEM7V0FDTyxNQUFLRixJQUFMLENBQVVKLE1BQU0sQ0FBTixDQUFWLENBQVA7SUFURixFQVdFSyxJQVhGLENBV087V0FBTSxNQUFLRCxJQUFMLENBQVVKLE1BQU0sQ0FBTixDQUFWLENBQU47SUFYUCxFQVlFSyxJQVpGLENBWU8sWUFBTTtVQUNOQyxNQUFMLENBQVksY0FBWixFQUE0QixHQUE1QjtXQUNPLE1BQUtGLElBQUwsQ0FBVUosTUFBTSxDQUFOLENBQVYsQ0FBUDtJQWRGLEVBZ0JFSyxJQWhCRixDQWdCTztXQUFNLE1BQUtELElBQUwsQ0FBVUosTUFBTSxDQUFOLENBQVYsQ0FBTjtJQWhCUCxFQWlCRUssSUFqQkYsQ0FpQk8sWUFBTTtVQUNOQyxNQUFMLENBQVksaUJBQVosRUFBK0IsR0FBL0I7V0FDTyxNQUFLRixJQUFMLENBQVVKLE1BQU0sQ0FBTixDQUFWLENBQVA7SUFuQkYsRUFxQkVLLElBckJGLENBcUJPO1dBQU0sTUFBS0MsTUFBTCxDQUFZLHdCQUFaLEVBQXNDLElBQXRDLENBQU47SUFyQlAsRUFzQkVELElBdEJGLENBc0JPO1dBQU0sTUFBS0QsSUFBTCxDQUFVSixNQUFNLENBQU4sQ0FBVixDQUFOO0lBdEJQLEVBdUJFSyxJQXZCRixDQXVCTyxZQUFNO1VBQ05DLE1BQUwsQ0FBWSxvQkFBWixFQUFrQyxHQUFsQztXQUNPLE1BQUtGLElBQUwsQ0FBVUosTUFBTSxDQUFOLENBQVYsQ0FBUDtJQXpCRjs7Ozt5QkE2Qk07UUFDRHZCLFNBQUwsR0FBaUIsS0FBakI7UUFDS0gsR0FBTCxDQUFTaUMsT0FBVDs7Ozt1QkFHS0MsTUFBTUMsWUFBWTs7O1FBQ2xCbkMsR0FBTCxDQUFTb0MsSUFBVDtnQkFDYUQsY0FBYyxDQUEzQjtPQUNJRSxTQUFTLFNBQVRBLE1BQVMsR0FBTTtRQUNmLENBQUMsT0FBS2xDLFNBQVQsRUFBb0I7V0FDYixJQUFJbUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBYTtZQUMxQnZDLEdBQUwsQ0FBU3dDLFNBQVQsQ0FBbUJOLEtBQUtPLEtBQUwsQ0FBV3JELENBQTlCLEVBQWdDOEMsS0FBS08sS0FBTCxDQUFXcEQsQ0FBM0M7U0FDRzhDLGVBQWVELEtBQUtRLGFBQUwsR0FBcUIsQ0FBdkMsRUFBMEM7YUFDcEMxQyxHQUFMLENBQVMyQyxLQUFULENBQWVULEtBQUtVLE1BQXBCLEVBQTRCVixLQUFLVSxNQUFqQztNQURELE1BRU8sSUFBSVQsYUFBYUQsS0FBS1EsYUFBdEIsRUFBcUM7YUFDdEMxQyxHQUFMLENBQVMyQyxLQUFULENBQWUsSUFBRVQsS0FBS1UsTUFBdEIsRUFBNkIsSUFBRVYsS0FBS1UsTUFBcEM7TUFETSxNQUVBO2FBQ0Q1QyxHQUFMLENBQVNpQyxPQUFUO2FBQ09NLFFBQVEsTUFBUixDQUFQOzs7WUFHSXZDLEdBQUwsQ0FBU3dDLFNBQVQsQ0FBbUIsQ0FBQ04sS0FBS08sS0FBTCxDQUFXckQsQ0FBL0IsRUFBaUMsQ0FBQzhDLEtBQUtPLEtBQUwsQ0FBV3BELENBQTdDO1lBQ0syQixTQUFMOzJCQUNzQixZQUFNO2NBQ25CcUIsT0FBT0gsSUFBUCxFQUFhQyxVQUFiLENBQVI7TUFERDtLQWJNLENBQVA7SUFGRDs7VUFxQk9HLFFBQVFDLE9BQVIsQ0FBZ0JGLFFBQWhCLENBQVA7Ozs7eUJBSU1RLFFBQVFDLFVBQVU7OztPQUNyQixDQUFDLEtBQUszQyxTQUFULEVBQW9COztVQUViLElBQUltQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFhO1dBQzFCdkMsR0FBTCxDQUFTZ0MsTUFBVCxHQUFrQmEsTUFBbEI7V0FDSzdCLFNBQUw7ZUFDVyxZQUFNO1lBQ1hoQixHQUFMLENBQVNnQyxNQUFULEdBQWtCLE1BQWxCO1lBQ0toQixTQUFMO1lBQ091QixTQUFQO0tBSEQsRUFJR08sUUFKSDtJQUhNLENBQVA7Ozs7c0JBMUZZO1VBQ0wsS0FBSy9DLE1BQUwsQ0FBWWdELGFBQVosRUFBUDs7Ozs7SUF3R0Y7Ozs7OztJQ3pJTUM7c0JBRU85RCxFQUFaLEVBQWdCOzs7T0FDVkEsRUFBTCxHQUFVQSxFQUFWO09BQ0tjLEdBQUwsR0FBVyxJQUFJaUQsWUFBSixFQUFYO09BQ0svRCxFQUFMLENBQVFnRSxTQUFSLEdBQW9CLEtBQUtDLFdBQUwsQ0FBaUJwQyxJQUFqQixDQUFzQixJQUF0QixDQUFwQjtPQUNLcUMsTUFBTCxHQUFjLElBQWQ7Ozs7O2dDQUdhOztPQUVQQyxPQUFPLEtBQUtyRCxHQUFMLENBQVNzRCw0QkFBVCxFQUFiO1FBQ0tGLE1BQUwsR0FBY0MsS0FBS0QsTUFBbkI7O09BRU1HLGFBQWEsS0FBS3ZELEdBQUwsQ0FBU3dELHdCQUFULENBQWtDLEtBQUt0RSxFQUF2QyxDQUFuQjtjQUNXdUUsT0FBWCxDQUFtQkosSUFBbkI7Y0FDV0ksT0FBWCxDQUFtQixLQUFLekQsR0FBTCxDQUFTMEQsV0FBNUI7O1FBRUt4RSxFQUFMLENBQVFnRSxTQUFSLEdBQW9CLElBQXBCOzs7OzBCQVFPO1FBQ0ZoRSxFQUFMLENBQVF5RSxJQUFSOzs7O3lCQUdNO1FBQ0R6RSxFQUFMLENBQVEwRSxLQUFSO1FBQ0sxRSxFQUFMLENBQVEyRSxXQUFSLEdBQXNCLENBQXRCOzs7O3NCQVZXO1VBQ0osS0FBS1QsTUFBTCxDQUFZVSxjQUFaLEdBQTZCLENBQTdCLENBQVA7Ozs7O0lBYUY7Ozs7Ozs7SUNwQ01DO21CQUVPWCxNQUFaLEVBQW9CWSxXQUFwQixFQUFpQzs7O09BQzNCWixNQUFMLEdBQWNBLE1BQWQ7T0FDS2EsV0FBTCxHQUFtQixJQUFJQyxXQUFKLEVBQW5CO09BQ0tDLGFBQUwsR0FBcUIsSUFBckI7T0FDS0MsYUFBTCxHQUFxQixFQUFyQjtPQUNLQyxZQUFMLEdBQW9CLElBQXBCO09BQ0tMLFdBQUwsR0FBbUJBLFdBQW5COzs7OzswQkFHTzs7OztRQUVGSSxhQUFMLEdBQXFCLEVBQXJCO1FBQ0toQixNQUFMLENBQVlrQixRQUFaLENBQXFCLEtBQUtOLFdBQUwsQ0FBaUJPLEtBQXRDOztPQUdJO1FBQ0NDLGNBQWMsaUJBQWlCaEUsTUFBakIsR0FDbEIsSUFBSWlFLFdBQUosQ0FBZ0IsQ0FBQyxLQUFLckIsTUFBTCxDQUFZc0IsY0FBWixHQUE2QixDQUE3QixDQUFELEVBQWtDLEtBQUtWLFdBQUwsQ0FBaUJPLEtBQW5ELENBQWhCLENBRGtCLEdBRWxCLEtBQUtuQixNQUZMO1NBR0tlLGFBQUwsR0FBcUIsSUFBSVEsYUFBSixDQUFrQkgsV0FBbEIsQ0FBckI7SUFKRCxDQUtFLE9BQU92RCxDQUFQLEVBQVU7WUFDSDJELEdBQVIsQ0FBWSxnREFBWixFQUE4RDNELENBQTlEOzs7OztPQUtLNEQsc0JBQXNCLFNBQXRCQSxtQkFBc0IsQ0FBQ0MsS0FBRCxFQUFXO1FBQ2xDQSxNQUFNQyxJQUFOLElBQWNELE1BQU1DLElBQU4sQ0FBV0MsSUFBWCxHQUFrQixDQUFwQyxFQUF1QztXQUNqQ1osYUFBTCxDQUFtQi9DLElBQW5CLENBQXdCeUQsTUFBTUMsSUFBOUI7O0lBRkY7O1FBTUtaLGFBQUwsQ0FBbUJjLGVBQW5CLEdBQXFDSixtQkFBckM7OztRQUdLVixhQUFMLENBQW1CMUIsS0FBbkIsQ0FBeUIsR0FBekI7Ozs7eUJBR007UUFDRDBCLGFBQUwsQ0FBbUJlLElBQW5COzs7OzZCQUdVO09BQ0pDLE9BQU8sSUFBSUMsSUFBSixDQUFTLEtBQUtoQixhQUFkLENBQWI7T0FDTWlCLE1BQU03RSxPQUFPOEUsR0FBUCxDQUFXQyxlQUFYLENBQTJCSixJQUEzQixDQUFaO09BQ01LLElBQUlDLFNBQVNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBVjtLQUNFL0UsS0FBRixDQUFRQyxPQUFSLEdBQWtCLE1BQWxCO0tBQ0UrRSxJQUFGLEdBQVNOLEdBQVQ7S0FDRU8sUUFBRixHQUFhLGdCQUFiO1lBQ1NDLElBQVQsQ0FBY0MsV0FBZCxDQUEwQk4sQ0FBMUI7S0FDRU8sS0FBRjtjQUNXLFlBQVc7YUFDWkYsSUFBVCxDQUFjRyxXQUFkLENBQTBCUixDQUExQjtXQUNPRixHQUFQLENBQVdXLGVBQVgsQ0FBMkJaLEdBQTNCO0lBRkQsRUFHRyxHQUhIOzs7OztJQVFGOztBQzlEQSxrQkFBZSxVQUFTbkcsRUFBVCxFQUFhZ0gsUUFBYixFQUF1QjtLQUMvQjlGLE1BQU0sSUFBSStGLEtBQUosRUFBWjs7SUFFR3RGLGdCQUFILENBQW9CLFFBQXBCLEVBQThCLFVBQUNJLENBQUQsRUFBTztNQUM5Qm1GLFNBQVMsSUFBSUMsVUFBSixFQUFmO1NBQ09DLE1BQVAsR0FBZ0IsVUFBU3hCLEtBQVQsRUFBZTs7T0FFMUJ3QixNQUFKLEdBQWEsWUFBVTthQUNibEcsR0FBVDtJQUREO09BR0ltRyxHQUFKLEdBQVV6QixNQUFNM0YsTUFBTixDQUFhcUgsTUFBdkI7R0FMRDtTQU9PQyxhQUFQLENBQXFCeEYsRUFBRTlCLE1BQUYsQ0FBU3VILEtBQVQsQ0FBZSxDQUFmLENBQXJCO0VBVEQsRUFVRyxLQVZIOzs7QUNFRCxJQUFNQyxPQUFPLFNBQVBBLElBQU8sR0FBTTs7S0FFWkMsV0FBV25CLFNBQVNvQixjQUFULENBQXdCLEdBQXhCLENBQWpCO0tBQ01DLFVBQVVyQixTQUFTb0IsY0FBVCxDQUF3QixHQUF4QixDQUFoQjtLQUNNRSxnQkFBaUJ0QixTQUFTb0IsY0FBVCxDQUF3QixhQUF4QixDQUF2QjtLQUNNRyxXQUFXdkIsU0FBU29CLGNBQVQsQ0FBd0IsT0FBeEIsQ0FBakI7S0FDTUksVUFBVXhCLFNBQVNvQixjQUFULENBQXdCLE1BQXhCLENBQWhCOztLQUVNSyxXQUFXLElBQUlwSCxjQUFKLENBQW1COEcsUUFBbkIsQ0FBakI7S0FDTTVDLGNBQWMsSUFBSWhCLFdBQUosQ0FBZ0I4RCxPQUFoQixDQUFwQjtLQUNNSyxXQUFXLElBQUlwRCxRQUFKLENBQWFtRCxTQUFTOUQsTUFBdEIsRUFBOEJZLFdBQTlCLENBQWpCOzthQUVZK0MsYUFBWixFQUEyQkcsU0FBU1AsSUFBVCxDQUFjNUYsSUFBZCxDQUFtQm1HLFFBQW5CLENBQTNCOztVQUVTckcsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsWUFBTTtXQUMvQjRCLEtBQVQ7Y0FDWUEsS0FBWjtXQUNTQSxLQUFUO0VBSEQ7U0FLUTVCLGdCQUFSLENBQXlCLE9BQXpCLEVBQWtDLFlBQU07V0FDOUJxRSxJQUFUO2NBQ1lBLElBQVo7V0FDU0EsSUFBVDtXQUNTVSxRQUFUO0VBSkQ7Q0FuQkQ7O0FBMkJBZTs7In0=
